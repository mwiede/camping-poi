(this["webpackJsonpcamping-poi"]=this["webpackJsonpcamping-poi"]||[]).push([[0],{23:function(e,t,n){e.exports=n(35)},28:function(e,t,n){},29:function(e,t,n){},35:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(9),c=n.n(r),i=(n(28),n(8)),l=(n(29),n(30),n(39)),u=n(40),s=n(41),m=n(37),p=n(16),g=n(17),h=n(22),d=n(21),f=n(6),b=n(18),v=n.n(b),O=(n(31),n(32),function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(g.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.options,n=e.startDirectly,a=this.props.leaflet.map,o=new v.a(t);o.addTo(a),n&&o.start()}},{key:"render",value:function(){return null}}]),n}(a.Component)),y=Object(f.b)(O),E=n(36),k=n(38),w=n(5),_=n.n(w);var j=function(e,t){var n=new _.a.Icon.Default;return n.options.imagePath="https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/",n.options.iconUrl="marker-icon-"+t+".png",n.options.iconRetinaUrl="marker-icon-2x-"+t+".png",o.a.createElement(E.a,{key:e.id,position:[e.latitude,e.longitude],icon:n},o.a.createElement(k.a,null,e.code," - ",e.titre," ",o.a.createElement("br",null)," ",e.description_de,o.a.createElement("br",null),o.a.createElement("button",{onClick:function(){return t=e.latitude+","+e.longitude,n=e.titre,void(-1!==window.navigator.appVersion.indexOf("Mac")?window.open("maps://?q="+t,"_system"):window.open("geo:0,0?q="+t+"("+encodeURI(n)+")","_system"));var t,n}},"Nav")))};var x=function(){var e=[48.135,11.581],t=Object(a.useState)({lat:e[0],lng:e[1]}),n=Object(i.a)(t,2),r=n[0],c=n[1],p=Object(a.useState)(null),g=Object(i.a)(p,2),h=(g[0],g[1]),d=Object(a.useState)([]),f=Object(i.a)(d,2),b=f[0],v=f[1],O=Object(a.useState)(11),E=Object(i.a)(O,2),k=E[0],w=E[1],_=Object(a.useState)("all"),x=Object(i.a)(_,2),D=x[0],M=(x[1],Object(a.useRef)(o.a.createElement(l.a,null))),S=b.filter((function(e){return"all"===D||"black"===D&&"1"===e.eau_noire||"grey"===D&&"1"===e.eau_usee}));console.log(D+" enth\xe4lt "+S.length);var I=M.current;null!=I.leafletElement&&I.leafletElement.getCenter();var R="https://cors-anywhere.herokuapp.com/https://park4night.com"+"/services/V4/lieuxGetFilter.php?&latitude=".concat(r.lat,"&longitude=").concat(r.lng,"&context_user=guest&context_os=ANDROID&context_lang=en&langue_locale=en_EN&context_latitude=").concat(r.lat,"&context_longitude=").concat(r.lng,"&context_version=7.0.4&context_secondlang=it&context_thirdlang=de&isMonthPremium=false&isYearPremium=false&context_id_user=guest&os=ANDROID&apikey=guest");return Object(a.useEffect)((function(){fetch(R,{headers:{"X-Requested-With":"xyz"}}).then((function(e){return e.json()})).then((function(e){v(e.lieux)}))}),[R]),o.a.createElement(o.a.Fragment,null,o.a.createElement(l.a,{center:e,zoom:k,ref:M,onMoveend:function(e){console.log(e.target.getCenter()),function(e){var t=Math.round(10*e.lat)/10,n=Math.round(10*e.lng)/10,a=Math.abs(t-r.lat)>.1,o=Math.abs(n-r.lng)>.1;(a||o)&&c({lat:t,lng:n})}(e.target.getCenter())},onzoomend:function(e){w(e.target.getZoom())},onLocationfound:function(e){h(e.latlng)}},o.a.createElement(u.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.osm.org/{z}/{x}/{y}.png"}),o.a.createElement(s.a,{position:"topright",collapsed:!1},o.a.createElement(s.a.Overlay,{name:"Black Water Dump",checked:!0},o.a.createElement(m.a,{color:"Black"},b.filter((function(e){return"1"===e.eau_noire})).map((function(e){return j(e,"black")})))),o.a.createElement(s.a.Overlay,{name:"Grey Water Dump",checked:!0},o.a.createElement(m.a,{color:"Grey"},b.filter((function(e){return"1"===e.eau_usee})).map((function(e){return j(e,"grey")}))))),o.a.createElement(y,{options:{position:"topright",strings:{title:"Show me where I am, yo!"},onActivate:function(){}},startDirectly:!0})),!1)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(x,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[23,1,2]]]);
//# sourceMappingURL=main.dfdb54c5.chunk.js.map